parameters:
  - name: webhookUrl
    type: string
  - name: title
    type: string
  - name: description
    type: string
  - name: url
    type: string

steps:
  - script: |
      curl https://github.com/fieu/discord.sh/releases/download/v2.0.0/discord.sh -o discord.sh
      chmod +x discord.sh
      discord.sh --title "${{ parameters.title }}" --description "${{ parameters.description }}" --url "${{ parameters.url }}"
    displayName: 'Send Discord Notification'
    env:
      DISCORD_WEBHOOK: ${{ parameters.webhookUrl }}
